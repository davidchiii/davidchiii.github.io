<!DOCTYPE html> <html lang="en-US"> <head prefix="og: http://ogp.me/ns#"> <!-- Google Tag Manager --> <script>(function (w, d, s, l, i) { w[l] = w[l] || []; w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' }); var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f); })(window, document, 'script', 'dataLayer', 'GTM-TRKVKDFM');</script> <!-- End Google Tag Manager --> <!-- Start header --> <meta charset="UTF-8" /> <meta http-equiv="X-UA-Compatible" content="ie=edge" /> <meta name="viewport" content="width=device-width, initial-scale=1.0" /> <meta name="mobile-web-app-capable" content="yes" /> <meta name="apple-mobile-web-app-capable" content="yes" /> <meta name="application-name" content="David Chang" /> <meta name="apple-mobile-web-app-status-bar-style" content="#fff" /> <meta name="apple-mobile-web-app-title" content="David Chang" /> <title> Fixing 7 year old Infrastructure (and breaking everything along the way) - David Chang </title> <link rel="alternate" href="http://localhost:4000/infra/" hreflang="en-US" /> <link rel="canonical" href="http://localhost:4000/infra/" /> <meta name="description" content="Guide to configuring OSIRIS&#39;s lab&#39;s infrastructure." /> <meta name="referrer" content="no-referrer-when-downgrade" /> <meta property="fb:app_id" content="" /> <meta property="og:site_name" content="Fixing 7 year old Infrastructure (and breaking everything along the way) | David Chang" /> <meta property="og:title" content="Fixing 7 year old Infrastructure (and breaking everything along the way) | David Chang" /> <meta property="og:type" content="website" /> <meta property="og:url" content="http://localhost:4000/infra/" /> <meta property="og:description" content="Guide to configuring OSIRIS&#39;s lab&#39;s infrastructure." /> <meta property="og:image" content="http://localhost:4000/%5Cconfiguring-cisco-layer-3-switches%5Clab.png" /> <meta property="og:image:width" content="640" /> <meta property="og:image:height" content="640" /> <meta name="twitter:card" content="summary" /> <meta name="twitter:title" content="Fixing 7 year old Infrastructure (and breaking everything along the way) | twitter_username" /> <meta name="twitter:url" content="http://localhost:4000/infra/" /> <meta name="twitter:site" content="@twitter_username" /> <meta name="twitter:creator" content="@twitter_username" /> <meta name="twitter:description" content="Guide to configuring OSIRIS&#39;s lab&#39;s infrastructure." /> <meta name="twitter:image" content="http://localhost:4000/%5Cconfiguring-cisco-layer-3-switches%5Clab.png" /> <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="David Chang" /> <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicons/code-svgrepo-com.svg" /> <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/code-svgrepo-com.svg" /> <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/code-svgrepo-com.svg" /> <link rel="manifest" href="/assets/favicons/site.webmanifest" /> <link rel="mask-icon" href="/assets/favicons/safari-pinned-tab.svg" color="#5bbad5" /> <meta name="apple-mobile-web-app-title" content="Jekyll Klise" /> <meta name="application-name" content="Jekyll Klise" /> <meta name="msapplication-TileColor" content="#da532c" /> <meta name="theme-color" content="#2c2c2c" /> <link rel="stylesheet" href="/assets/css/style.css" /> <!-- for mathjax support --> <!-- Google Tag Manager (noscript) --> <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TRKVKDFM" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript> <!-- End Google Tag Manager (noscript) --> <!-- Google tag (gtag.js) --> <script async src="https://www.googletagmanager.com/gtag/js?id=G-0ZFBBTM4N5"></script> <script> window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-0ZFBBTM4N5'); </script> </head> <body data-theme="dark" class="notransition"> <script> const body = document.body; const data = body.getAttribute("data-theme"); const initTheme = (state) => { if (state === "dark") { body.setAttribute("data-theme", "dark"); } else if (state === "light") { body.removeAttribute("data-theme"); } else { localStorage.setItem("theme", data); } }; initTheme(localStorage.getItem("theme")); setTimeout(() => body.classList.remove("notransition"), 75); </script> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"> <div class="navbar" role="navigation"> <nav class="menu"> <input type="checkbox" id="menu-trigger" class="menu-trigger" /> <label for="menu-trigger"> <span class="menu-icon"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512" > <path d="M64,384H448V341.33H64Zm0-106.67H448V234.67H64ZM64,128v42.67H448V128Z" /> </svg> </span> </label> <a id="mode"> <!-- icon --> <svg class="mode-sunny" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512" > <title>LIGHT</title> <line x1="256" y1="48" x2="256" y2="96" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="256" y1="416" x2="256" y2="464" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="108.92" x2="369.14" y2="142.86" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="369.14" x2="108.92" y2="403.08" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="464" y1="256" x2="416" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="96" y1="256" x2="48" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="403.08" x2="369.14" y2="369.14" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="142.86" x2="108.92" y2="108.92" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <circle cx="256" cy="256" r="80" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> </svg> <!-- icon --> <svg class="mode-moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512" > <title>DARK</title> <line x1="256" y1="48" x2="256" y2="96" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="256" y1="416" x2="256" y2="464" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="108.92" x2="369.14" y2="142.86" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="369.14" x2="108.92" y2="403.08" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="464" y1="256" x2="416" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="96" y1="256" x2="48" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="403.08" x2="369.14" y2="369.14" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="142.86" x2="108.92" y2="108.92" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <circle cx="256" cy="256" r="80" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> </svg> </a> <div class="trigger"> <div class="trigger-container"><a class="menu-link" href="/">home</a><a class="menu-link" href="/archive/">archive</a><a class="menu-link" href="/about/">about</a><a class="fa-solid fa-code" style="color: #ff5277"> <title>RSS</title> <path d="M108.56,342.78a60.34,60.34,0,1,0,60.56,60.44A60.63,60.63,0,0,0,108.56,342.78Z" /> <path d="M48,186.67v86.55c52,0,101.94,15.39,138.67,52.11s52,86.56,52,138.67h86.66C325.33,312.44,199.67,186.67,48,186.67Z" /> <path d="M48,48v86.56c185.25,0,329.22,144.08,329.22,329.44H464C464,234.66,277.67,48,48,48Z" /> </a> </div> </div> </nav> </div> <div class="wrapper post"> <main class="page-content" aria-label="Content"> <article itemscope itemtype="https://schema.org/BlogPosting"> <header class="header"> <div class="tags"> <span itemprop="keywords"> <a class="tag" href="/tags/#infrastructure">INFRASTRUCTURE</a>, <a class="tag" href="/tags/#osiris">OSIRIS</a> </span> </div> <h1 class="header-title" itemprop="headline">Fixing 7 year old Infrastructure (and breaking everything along the way)</h1> <div class="post-meta"> <time datetime="2023-10-14T23:02:00-04:00" itemprop="datePublished"> Oct 14, 2023 </time> <span itemprop="author" itemscope itemtype="https://schema.org/Person"> <span itemprop="name">David Chang</span> </span> <time hidden datetime="" itemprop="dateModified"> Oct 14, 2023 </time> <span hidden itemprop="publisher" itemtype="Person">David Chang</span> <span hidden itemprop="image">\configuring-cisco-layer-3-switches\lab.png</span> <span hidden itemprop="mainEntityOfPage"><p>This will serve as an impromptu post for a writeup on OSIRIS infrastructure. I need a place to write this stuff down before problems start occurring again.</p> <h2 id="gateway">Gateway</h2> <p>OSIRIS uses this an ancient Debian 8 host called <code class="language-plaintext highlighter-rouge">pakhet</code>. Specs of this machine are below:</p> <div class="overflow-table"> <table> <thead> <tr> <th style="text-align: left">Component</th> <th style="text-align: left">Hardware</th> <th style="text-align: center"> </th> </tr> </thead> <tbody> <tr> <td style="text-align: left">CPU</td> <td style="text-align: left">AMD Opteron(tm) Processor 275</td> <td style="text-align: center"><code class="language-plaintext highlighter-rouge">Duo-Core 4 CPU @ 2.20GHz</code></td> </tr> <tr> <td style="text-align: left">Memory</td> <td style="text-align: left">DIMM DDR memory</td> <td style="text-align: center"><code class="language-plaintext highlighter-rouge">12gb DDR1 @ 400Mhz</code></td> </tr> <tr> <td style="text-align: left">Storage</td> <td style="text-align: left">disk drive</td> <td style="text-align: center"><code class="language-plaintext highlighter-rouge">64gb 50mbps I/O Speed</code></td> </tr> </tbody> </table> </div> <p>There’s nothing much to look at. It’s an old, degraded Dell Proliant server from 2009 that somehow manages all the inbound connections to the inside clusters. When the infrastructure was handed to me, accessing the internal hosts meant port-forwarding the hypervisor web interface through SSH! This needs to be more secure. Perhaps a VPN service that goes to a firewall first.</p> <h2 id="internal">Internal</h2> <p>Internally, there are 4 online hosts in the RG227 server room running the <code class="language-plaintext highlighter-rouge">Proxmox</code> hypervisor <code class="language-plaintext highlighter-rouge">v6.14</code>, several versions out of date. For the hypervisor upgrade, I recommend migrating over to the more reliable <code class="language-plaintext highlighter-rouge">vmWare ESXI</code>.</p> </span> </div> </header> <div class="page-content" itemprop="articleBody"> <p>This will serve as an impromptu post for a writeup on OSIRIS infrastructure. I need a place to write this stuff down before problems start occurring again.</p> <h2 id="gateway"> <a href="#gateway" class="anchor-head"></a> Gateway </h2> <p>OSIRIS uses this an ancient Debian 8 host called <code class="language-plaintext highlighter-rouge">pakhet</code>. Specs of this machine are below:</p> <div class="overflow-table"> <table> <thead> <tr> <th style="text-align: left">Component</th> <th style="text-align: left">Hardware</th> <th style="text-align: center"> </th> </tr> </thead> <tbody> <tr> <td style="text-align: left">CPU</td> <td style="text-align: left">AMD Opteron(tm) Processor 275</td> <td style="text-align: center"><code class="language-plaintext highlighter-rouge">Duo-Core 4 CPU @ 2.20GHz</code></td> </tr> <tr> <td style="text-align: left">Memory</td> <td style="text-align: left">DIMM DDR memory</td> <td style="text-align: center"><code class="language-plaintext highlighter-rouge">12gb DDR1 @ 400Mhz</code></td> </tr> <tr> <td style="text-align: left">Storage</td> <td style="text-align: left">disk drive</td> <td style="text-align: center"><code class="language-plaintext highlighter-rouge">64gb 50mbps I/O Speed</code></td> </tr> </tbody> </table> </div> <p>There’s nothing much to look at. It’s an old, degraded Dell Proliant server from 2009 that somehow manages all the inbound connections to the inside clusters. When the infrastructure was handed to me, accessing the internal hosts meant port-forwarding the hypervisor web interface through SSH! This needs to be more secure. Perhaps a VPN service that goes to a firewall first.</p> <h2 id="internal"> <a href="#internal" class="anchor-head"></a> Internal </h2> <p>Internally, there are 4 online hosts in the RG227 server room running the <code class="language-plaintext highlighter-rouge">Proxmox</code> hypervisor <code class="language-plaintext highlighter-rouge">v6.14</code>, several versions out of date. For the hypervisor upgrade, I recommend migrating over to the more reliable <code class="language-plaintext highlighter-rouge">vmWare ESXI</code>.</p> </div> </article> </main> <nav class="post-nav"> <a class="post-nav-item post-nav-prev" href="/firstpost/" > <div class="nav-arrow">Previous</div> <span class="post-title">New Beginnings</span> </a> </nav> <footer class="footer"> <a class="footer_item" href="https://www.linkedin.com/in/davidchang52">linkedin</a> <a class="footer_item" href="https://github.com/davidchiii">github</a> <a class="footer_item" href="/feed.xml">rss</a> <span class="footer_item">&copy; 2023</span> <small class="footer_copyright"> <!-- Klisé Theme: https://github.com/piharpi/jekyll-klise --> klisé theme on <a href="https://jekyllrb.com" target="_blank" rel="noreferrer noopener">jekyll</a> </small> </footer> <script src="/assets/js/main.js" defer="defer"></script> </div> </body> </html>
